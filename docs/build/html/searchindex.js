Search.setIndex({"docnames": ["api", "classes", "functions", "generated/create_config", "generated/model_atm", "generated/preprocess", "generated/profile_stk", "generated/sir", "generated/visualizer", "index", "inversion", "plots", "preprocess", "simulation", "usage"], "filenames": ["api.rst", "classes.rst", "functions.rst", "generated/create_config.rst", "generated/model_atm.rst", "generated/preprocess.rst", "generated/profile_stk.rst", "generated/sir.rst", "generated/visualizer.rst", "index.rst", "inversion.rst", "plots.rst", "preprocess.rst", "simulation.rst", "usage.rst"], "titles": ["API", "Classes", "Functions", "create_config", "model_atm", "preprocess", "profile_stk", "sir", "visualizer", "SIR-MIG Documentation", "Inversion", "Plotting", "Preprocessing", "Simulation", "Usage"], "terms": {"model_atm": 1, "model": [1, 2, 9, 10, 11, 13], "nx": 1, "0": [1, 2, 12, 13], "ny": 1, "nval": 1, "sourc": [1, 2, 10, 11, 12, 13], "contain": [1, 2, 4, 10, 12], "simul": [1, 2, 9, 10, 11], "paramet": [1, 2, 5, 10, 11, 12, 13], "tau": [1, 2, 11, 13], "numpi": [1, 2, 12, 13], "arrai": [1, 2, 5, 12, 13], "log": [1, 2, 11, 13], "t": [1, 2, 11], "ndarrai": [1, 12], "temperatur": [1, 2, 11, 13], "k": [1, 2, 11], "pe": [1, 2, 11], "electron": [1, 2, 11], "pressur": [1, 2, 11], "dyn": [1, 2, 11], "cm": [1, 2, 11], "2": [1, 2, 9, 10, 11, 12, 13], "vmicro": [1, 11], "microturbul": [1, 2, 11], "veloc": [1, 2, 11], "s": [1, 2, 9, 10, 11], "b": [1, 2, 11, 13], "magnet": [1, 2, 11, 13], "field": [1, 2, 11, 13], "strength": [1, 2, 11], "g": [1, 2, 5, 12], "vlo": [1, 2, 11], "line": [1, 2, 11, 14], "sight": [1, 2, 11], "km": [1, 2, 11], "gamma": [1, 11], "inclin": [1, 2, 11], "deg": [1, 2, 11], "phi": [1, 11], "azimuth": [1, 2, 11], "z": [1, 2, 11], "pg": [1, 2, 11], "ga": [1, 2, 11], "rho": [1, 2, 11], "densiti": [1, 2, 11], "3": [1, 2, 13], "vmacro": 1, "macroturbul": 1, "fill": [1, 11], "factor": [1, 2, 11], "stray_light": 1, "strai": 1, "light": 1, "percent": 1, "return": [1, 2, 10, 11, 12, 13], "type": [1, 2, 10, 11, 12, 13], "none": [1, 2, 10, 11, 12, 13], "method": [1, 12], "correct_phi": 1, "sir": [1, 11, 14], "can": [1, 2, 5, 10, 12, 14], "give": 1, "you": 1, "ani": [1, 12, 14], "valu": [1, 2, 5, 10, 11, 12, 13], "e": [1, 12], "250": 1, "therefor": 1, "comput": [1, 2, 5, 11, 12], "standard": [1, 11], "deviat": [1, 11], "those": 1, "should": [1, 2, 12], "correct": [1, 11], "so": [1, 2, 12], "i": [1, 2, 5, 11, 12], "have": [1, 2], "from": [1, 2, 4, 5, 10, 11, 12, 13], "360": 1, "degre": 1, "cut_to_map": 1, "map": [1, 11], "cut": 1, "data": [1, 2, 7, 9, 10, 11], "xmin": [1, 11], "xmax": [1, 11], "ymin": [1, 11], "ymax": [1, 11], "list": [1, 2, 9, 11], "rang": [1, 11, 12], "pixel": [1, 11], "x": [1, 2, 10, 11, 12], "y": [1, 2, 10, 11], "direct": 1, "get_attribut": 1, "string": [1, 2, 11], "specif": [1, 2], "physic": [1, 2, 11], "thi": [1, 2, 9, 10, 11, 12, 13], "us": [1, 2, 5, 9, 10, 11, 12, 14], "ones": 1, "onli": [1, 12], "want": [1, 11], "depend": [1, 11, 13], "input": 1, "str": [1, 2, 11, 12], "determin": [1, 11, 12], "which": [1, 2, 9, 11, 12], "option": [1, 2, 11, 12, 13], "ar": [1, 9, 11, 12], "npar": 1, "out": [1, 2, 9, 10, 11, 12, 13], "The": [1, 4, 12, 14], "wish": 1, "float": [1, 2, 10, 11, 12, 13], "interp": 1, "new_tau": 1, "interpol": [1, 13], "new": 1, "scale": 1, "read": [1, 2, 4, 6, 9], "fname": 1, "fmt_type": 1, "float64": 1, "binari": [1, 2], "file": [1, 2, 3, 5, 10, 11, 12, 13, 14], "filenam": [1, 2, 11], "laod": 1, "default": [1, 2, 11, 12, 13], "np": 1, "read_mod": 1, "assign": 1, "creat": [1, 2, 3, 10, 13], "1": [1, 2, 5, 9, 10, 11, 12, 13], "name": [1, 2], "mod": 1, "read_result": 1, "task": [1, 2], "path": [1, 2, 11], "all": [1, 2, 4, 6, 10, 11, 12, 13], "error": [1, 11], "invers": [1, 2, 3, 9, 11], "dict": [1, 2, 10, 11, 12, 13], "dictionari": [1, 2, 10, 11, 12, 13], "folder": [1, 2, 5, 10, 12], "posit": [1, 2, 10, 11, 12], "each": [1, 2, 10, 11, 12], "where": [1, 11], "int": [1, 2, 10, 11, 12, 13], "how": 1, "mani": [1, 10], "result": [1, 5, 9, 11, 12], "set_dim": 1, "set": [1, 11], "dimens": 1, "load": [1, 2], "yet": 1, "number": [1, 2, 10, 13], "per": [1, 2], "set_limit": 1, "lim": 1, "plot": [1, 2, 7, 9], "write": [1, 2, 4, 5, 6, 9, 12], "fortran": 1, "save": [1, 2, 11], "write_model": [1, 2], "given": [1, 2, 11, 12], "format": [1, 2, 12], "integ": 1, "profile_stk": 1, "profil": [1, 2, 9, 10, 13], "nw": 1, "wave": [1, 2, 11], "nump": 1, "wavelength": [1, 2, 11, 12], "indx": 1, "index": [1, 9, 12], "mode": [1, 2, 9, 10], "mc": [1, 9, 10, 11], "stki": 1, "mxn": [1, 12], "stoke": [1, 2, 6, 9, 10, 11, 12, 13], "stkq": 1, "q": [1, 2, 11], "stku": 1, "u": [1, 2, 11], "stkv": 1, "v": [1, 2, 11], "ns": 1, "bool": [1, 2, 11, 12, 13], "wa": 1, "data_cut": 1, "cut_to_wav": 1, "range_wav": 1, "multidimension": [1, 12], "config": [1, 2, 3, 10, 11, 12, 13], "float32": 1, "read_results_mc": 1, "inform": [1, 2, 4, 9, 10, 11, 12, 13], "indic": 1, "synthesi": [1, 2, 13], "syn": [1, 2], "point": [1, 2], "veil_correct": 1, "nu": [1, 5, 12], "ic": [1, 11], "spectrum": 1, "spectral": [1, 2, 11], "veil": [1, 11], "simli": 1, "invert": 1, "convolut": 1, "equat": [1, 12], "optim": [1, 12], "fraction": 1, "continuum": [1, 11], "intens": [1, 5, 12], "ft": [1, 5, 12], "write_profil": [1, 2], "grid": [1, 2, 11], "describ": 1, "note": [1, 2, 11, 12], "call": [1, 12], "otherwis": 1, "wrong": [1, 11], "output": [1, 2], "write_profile_mc": 1, "provid": [2, 5, 11, 12, 13], "librari": [2, 7, 10, 13, 14], "repeat": [2, 7], "analyz": [2, 7], "list_to_str": 2, "temp": 2, "let": 2, "convert": [2, 12], "letter": 2, "ad": [2, 11], "separ": 2, "text1": 2, "text2": 2, "print": [2, 11, 13], "an": [2, 9, 11, 12], "help": 2, "page": [2, 9], "first": [2, 11, 12, 14], "text": [2, 11, 12, 14], "second": [2, 12], "read_chi2": 2, "last": [2, 11], "chi": [2, 11, 12], "inv": 2, "chi2": [2, 10, 11, 12], "doe": 2, "exist": 2, "best": [2, 5, 10, 12], "fit": [2, 5, 11, 12], "conf": [2, 10, 11, 12, 13], "read_config": 2, "check": [2, 9], "true": [2, 11, 12, 13], "change_config": 2, "fals": 2, "control": 2, "chang": [2, 11], "do": 2, "try": 2, "anyth": 2, "read_control": 2, "scheme": 2, "expect": [2, 3], "read_grid": 2, "min": 2, "step": [2, 12], "max": [2, 11], "read_lin": 2, "ion": 2, "exc_pot": 2, "log_gf": 2, "transit": 2, "alpha": 2, "sigma": [2, 5, 12], "read_model": 2, "gauss": [2, 11], "angl": 2, "height": [2, 11], "otu": 2, "read_profil": 2, "num": [2, 11], "one": [2, 11, 12], "A": [2, 11, 12, 13], "write_config": 2, "1c": [2, 9, 10, 11], "write_config_1c": 2, "write_config_2c": 2, "write_config_mc": 2, "write_control_1c": 2, "typic": [2, 13], "trol": 2, "write_control_2c": 2, "write_control_mc": 2, "write_gauss_psf": 2, "spread": 2, "when": [2, 10, 11], "psf": 2, "ma": 2, "exampl": 2, "write_grid": 2, "write_grid_mc": 2, "header": 2, "log_tau": 2, "v_micro": 2, "inc": [2, 11], "neg": 2, "white": 2, "space": [2, 13], "less": 2, "po": 2, "atom": 2, "autofunct": 2, "differ": [2, 5, 9, 11, 12], "config_mc": 2, "mont": [2, 9, 11], "carlo": [2, 9, 11], "ask": 2, "question": [2, 12], "config_1c": 2, "compon": [2, 9, 10], "config_2c": 2, "start": [2, 13], "program": 2, "execut": [2, 10, 11, 14], "programm": 2, "miscellan": 2, "create_task_folder_list": 2, "arg": 2, "done": 2, "itself": 2, "linearli": 2, "make": [2, 10], "core": [2, 12], "1x4": 2, "limit": [2, 11], "1d": 2, "initi": 2, "prepar": 2, "x_y_add_zero": 2, "add": [2, 11, 13], "zero": 2, "4": [2, 5, 11, 12], "relat": 2, "observ": [2, 12], "line_fil": 2, "four": [2, 5, 12], "class": [2, 4, 6, 9], "function": [3, 4, 5, 6, 7, 8, 9, 10, 12, 13], "tool": [4, 6], "These": [5, 12], "modul": [5, 9, 12, 13], "groundbas": [5, 12], "telescop": [5, 12], "download": [5, 12], "sdc": [5, 12], "cube": [5, 12], "hinod": [5, 12], "It": [5, 9, 11, 12], "put": [5, 11, 12], "3d": [5, 12], "4d": [5, 12], "easier": [5, 12], "access": [5, 12], "In": [5, 12], "total": [5, 12], "measur": [5, 12], "same": [5, 12], "time": [5, 12], "For": [5, 12], "more": [5, 12], "script": [5, 11, 12], "must": [5, 12], "adapt": [5, 12], "averag": [5, 12], "quiet": [5, 12], "sun": [5, 11, 12], "region": [5, 12], "convolv": [5, 12], "gaussian": [5, 12], "constant": [5, 12], "i_": [5, 12], "lambda": [5, 12], "i_c": [5, 12], "afterward": [5, 12], "singl": [5, 12], "welcom": 9, "search": 9, "algorithm": 9, "base": 9, "code": [9, 14], "parallelis": 9, "implement": [9, 12], "multipl": [9, 11], "random": [9, 10, 13], "guess": [9, 10], "There": [9, 11], "three": 9, "select": 9, "2c": [9, 10, 11], "also": [9, 14], "possibl": [9, 12], "without": 9, "usag": 9, "section": 9, "further": 9, "preprocess": 9, "project": 9, "under": 9, "activ": 9, "develop": 9, "api": 9, "perform": [10, 12, 13], "simpl": 10, "parallel": 10, "mpi4pi": 10, "execute_inversion_1c": 10, "task_fold": 10, "rank": [10, 13], "need": 10, "sure": 10, "enter": 10, "os": 10, "right": [10, 14], "directori": [10, 12, 14], "configur": [10, 11, 13], "process": [10, 13], "execute_inversion_2c": 10, "inversion_1c": 10, "comm": [10, 13], "size": [10, 13], "mpi": [10, 13], "intercomm": 10, "commun": [10, 13], "actual": 10, "avail": 10, "import": 10, "inversion_2c": 10, "inversion_mc": 10, "scatter_data": 10, "scatter": 10, "equal": 10, "scatter_data_mc": 10, "analys": 11, "qualiti": 11, "analysi": 11, "addit": 11, "compar": [11, 12], "magent": 11, "subtract": 11, "azi": 11, "titl": 11, "figur": 11, "xtitl": 11, "maximum": 11, "vertic": 11, "tabl": 11, "argument": [11, 12], "two": [11, 12, 14], "well": 11, "mean": [11, 12], "analysis_compare_chi2": 11, "conf1": 11, "conf2": 11, "add2": 11, "label": 11, "analysis_multipl": 11, "limitt": 11, "alwai": 11, "alon": 11, "flag": 11, "ic_test": 11, "vs": 11, "ob": [11, 12], "element": 11, "1st": 11, "etc": 11, "rel": 11, "result_1c": 11, "wavev": 11, "vector": 11, "plottet": 11, "title3": 11, "logi": 11, "real": 11, "spectra": 11, "plot_chi2": 11, "subplot": 11, "anoth": 11, "lo": 11, "limiti": 11, "colorbar": 11, "arc": 11, "axi": 11, "arcsecond": 11, "flipx": 11, "mirror": 11, "flip": 11, "sometim": 11, "gri": [11, 12], "locat": 11, "result_2c": 11, "_1": 11, "plot_stok": 11, "prefix": 11, "title4": 11, "plot_fil": 11, "visual": 11, "visualizer_1c": 11, "click": 11, "appear": 11, "Or": 11, "visualizer_2c": 11, "argmin": 12, "find": 12, "minimum": 12, "multi": 12, "dimension": 12, "seem": 12, "faster": 12, "than": 12, "built": 12, "shown": 12, "http": 12, "stackoverflow": 12, "com": 12, "30180241": 12, "get": 12, "column": 12, "row": 12, "2d": 12, "dataq": 12, "y_fit": 12, "y_ob": 12, "merit": 12, "sum_i": 12, "y_": 12, "convective_blueshift": 12, "ll": 12, "shift": 12, "lambda_0": 12, "due": 12, "convect": 12, "blueshift": 12, "correct_spectral_veil": 12, "follow": [12, 13, 14], "optimise_chi": 12, "vac_to_air": 12, "norm": 12, "width": 12, "frac": 12, "sqrt": 12, "pi": 12, "dir": 12, "end": 12, "dataset": 12, "i_ob": 12, "optimis": 12, "minima": 12, "discret": 12, "polynomi": 12, "uncertainti": 12, "were": 12, "combin": 12, "ciddor1996": 12, "vacuum": 12, "air": 12, "ciddor": 12, "1996": 12, "eq": 12, "valid": 12, "between": 12, "2300": 12, "16900": 12, "better": 12, "infrar": 12, "edlen": 12, "co2": 12, "concentr": 12, "here": 12, "assum": 12, "450": 12, "ppm": 12, "most": 12, "like": 12, "gener": 12, "angstrom": 12, "far": 12, "correspond": 12, "procedur": 13, "node": 13, "nois": 13, "synthesis": 13, "add_nois": 13, "verbos": 13, "statu": 13, "create_model": 13, "info": 13, "create_temperatur": 13, "deepest": 13, "layer": 13, "numi": 13, "atmospher": 13, "dcitionari": 13, "intracomm": 13, "To": 14, "mig": 14, "necessari": 14, "defin": 14, "requir": 14, "py": 14, "might": 14, "work": 14, "other": 14, "version": 14, "mention": 14, "test": 14, "venv": 14, "pip": 14, "pipreq": 14, "conda": 14, "ye": 14, "txt": 14, "c": 14, "forg": 14}, "objects": {"": [[3, 0, 0, "-", "create_config"], [10, 0, 0, "-", "inversion"], [4, 0, 0, "-", "model_atm"], [12, 0, 0, "-", "preprocess"], [6, 0, 0, "-", "profile_stk"], [13, 0, 0, "-", "simulation"], [7, 0, 0, "-", "sir"], [8, 0, 0, "-", "visualizer"]], "create_config": [[2, 1, 1, "", "config_1C"], [2, 1, 1, "", "config_2C"], [2, 1, 1, "", "config_MC"]], "inversion": [[10, 1, 1, "", "execute_inversion_1c"], [10, 1, 1, "", "execute_inversion_2c"], [10, 1, 1, "", "inversion_1c"], [10, 1, 1, "", "inversion_2c"], [10, 1, 1, "", "inversion_mc"], [10, 1, 1, "", "scatter_data"], [10, 1, 1, "", "scatter_data_mc"]], "main": [[2, 1, 1, "", "main"]], "misc": [[2, 1, 1, "", "create_task_folder_list"], [2, 1, 1, "", "initial"], [2, 1, 1, "", "x_y_add_zeros"]], "model_atm": [[1, 2, 1, "", "Model"], [2, 1, 1, "", "read_model"]], "model_atm.Model": [[1, 3, 1, "", "correct_phi"], [1, 3, 1, "", "cut_to_map"], [1, 3, 1, "", "get_attribute"], [1, 3, 1, "", "interp"], [1, 3, 1, "", "read"], [1, 3, 1, "", "read_mod"], [1, 3, 1, "", "read_results"], [1, 3, 1, "", "set_dim"], [1, 3, 1, "", "set_limit"], [1, 3, 1, "", "write"], [1, 3, 1, "", "write_model"]], "obs": [[2, 1, 1, "", "read_profile"]], "plots": [[11, 0, 0, "-", "Ic_test"], [11, 0, 0, "-", "analysis"], [11, 0, 0, "-", "analysis_compare_chi2"], [11, 0, 0, "-", "analysis_multiple"], [11, 0, 0, "-", "result"], [11, 0, 0, "-", "visualizer"]], "plots.Ic_test": [[11, 1, 1, "", "Ic_test"]], "plots.analysis": [[11, 1, 1, "", "analysis"]], "plots.analysis_compare_chi2": [[11, 1, 1, "", "analysis_compare_chi2"]], "plots.analysis_multiple": [[11, 1, 1, "", "analysis_multiple"]], "plots.result": [[11, 1, 1, "", "result_1C"], [11, 1, 1, "", "result_2C"]], "plots.visualizer": [[11, 1, 1, "", "visualizer_1C"], [11, 1, 1, "", "visualizer_2C"]], "preprocess": [[12, 1, 1, "", "argmin"], [12, 1, 1, "", "chi2"], [12, 1, 1, "", "convective_blueshift"], [12, 1, 1, "", "correct_spectral_veil"], [12, 1, 1, "", "gaussian"], [12, 1, 1, "", "merge"], [12, 1, 1, "", "normalise"], [12, 1, 1, "", "optimise_chi"], [12, 1, 1, "", "vac_to_air"]], "profile_stk": [[1, 2, 1, "", "Profile"], [2, 1, 1, "", "read_profile"]], "profile_stk.Profile": [[1, 3, 1, "", "cut_to_map"], [1, 3, 1, "", "cut_to_wave"], [1, 3, 1, "", "read"], [1, 3, 1, "", "read_results"], [1, 3, 1, "", "read_results_MC"], [1, 3, 1, "", "set_dim"], [1, 3, 1, "", "veil_correction"], [1, 3, 1, "", "write"], [1, 3, 1, "", "write_profile"], [1, 3, 1, "", "write_profile_mc"]], "simulation": [[13, 1, 1, "", "add_noise"], [13, 1, 1, "", "create_models"], [13, 1, 1, "", "create_temperature"], [13, 1, 1, "", "synthesis"]], "sir": [[2, 1, 1, "", "list_to_string"], [2, 1, 1, "", "option"], [2, 1, 1, "", "read_chi2"], [2, 1, 1, "", "read_chi2s"], [2, 1, 1, "", "read_config"], [2, 1, 1, "", "read_control"], [2, 1, 1, "", "read_grid"], [2, 1, 1, "", "read_line"], [2, 1, 1, "", "read_model"], [2, 1, 1, "", "read_profile"], [2, 1, 1, "", "write_config"], [2, 1, 1, "", "write_config_1c"], [2, 1, 1, "", "write_config_2c"], [2, 1, 1, "", "write_config_mc"], [2, 1, 1, "", "write_control_1c"], [2, 1, 1, "", "write_control_2c"], [2, 1, 1, "", "write_control_mc"], [2, 1, 1, "", "write_gauss_psf"], [2, 1, 1, "", "write_grid"], [2, 1, 1, "", "write_grid_mc"], [2, 1, 1, "", "write_model"], [2, 1, 1, "", "write_profile"]]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:method"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "method", "Python method"]}, "titleterms": {"api": 0, "class": 1, "function": 2, "sir": [2, 7, 9], "py": 2, "create_config": [2, 3], "main": 2, "model_atm": [2, 4], "misc": 2, "ob": 2, "profile_stk": [2, 6], "model": 4, "preprocess": [5, 12], "merg": [5, 12], "data": [5, 12], "normalis": [5, 12], "spectral": [5, 12], "veil": [5, 12], "correct": [5, 12], "profil": 6, "visual": 8, "mig": 9, "document": 9, "indic": 9, "tabl": 9, "descript": 9, "content": 9, "invers": 10, "plot": 11, "simul": 13, "usag": 14, "instal": 14}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 56}})